<project name="BarPush">

  <target name="run">
     <macrodef name="git">
     <attribute name="command" />
     <attribute name="dir" default="" />
     <element name="args" optional="true" />
     <sequential>
      <exec executable="git" dir="@{dir}">
         <arg value="@{command}" />
       <args/>
      </exec>
     </sequential>
     </macrodef>
   <sequential>
   <echo>This is for bar file sending to the git repository</echo>
   <git command = "clone">
    <args>
	    <arg value = "https://github.com/SureshPasula/PBC.git"/>
    </args>
   </git> 
   <copy file="/home/spasula/artifact/scribble.bar" todir="./PBC"/>
   <git command = "add">
     <args>
	    <arg value = "-A"/>
        <arg value = "./PBC/scribble.bar"/>
	 </args>	
   </git> 
   <git command = "config">
     <args>
	    <arg value = "--global"/>
        <arg value = "user.name"/>
		<arg value = "spasula"/>
	 </args>	
   </git> 
   <git command = "config">
     <args>
	    <arg value = "--global"/>
        <arg value = "user.email"/>
		<arg value = "suresh.pasula@prolifics.com"/>
	 </args>	
   </git> 
   <git command = "commit">
	  <args>
        <arg value = "-m" />
		<arg value = "This is bar file commiting message"/>
      </args>
    </git>
	<git command = "pull">
	  <args>
        <arg value = "origin" />
		<arg value = "master"/>
      </args>
   </git>
   <git command = "remote">
	  <args>
        <arg value = "add" />
		<arg value = "origin" />
		<arg value = "https://github.com/SureshPasula/PBC.git"/>
      </args>	 
   </git> 
     <git command = "reset">
	  <args>
        <arg value = "--hard" />
      </args>	 
   </git> 
   <git command = "push">
	  <args>
        <arg value = "-f" />
		<arg value = "origin"/>
		<arg value = "master"/>
      </args>	 
   </git> 
    <git command = "log">	 
    </git> 
 </sequential>   
 </target>
 
</project>